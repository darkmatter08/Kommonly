<!-- Shawn Jain -->
<!-- 2/3/2014 -->
<!-- Kommonly -->

<!-- Temporary Homepage for dev -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
		<style> 
		body {
			padding-left: 30px;
			padding-right: 30px;
		}
		</style>
		<script>
		$(document).ready(function(){
			$.post("/api/organizer/getAllEvents", function(data){
				for (var myIndex in data) {
					var myEvent = data[myIndex]
					$('#ajaxTable tr:last').after('<tr>'+'<td>'+ myEvent.name + '</td>'+'<td>'+ myEvent.event_date + '</td>' +'<td>'+ myEvent.description + '</td>'+'</tr>');
				}
			});
		});	
		</script>
	</head>

	<body>
		<h1>Kommonly</h1>
		<p>Sponsor Matching Service</p>
		<p>Organizer Dashboard</p>
		<h3>Welcome, {{ organizer.user.first_name }}</h3>

		<table class="table">
			<tr>
				<th>Name</th>
				<th>Date</th>
				<th>Description</th>
			</tr>
			{% for event in events %}
			<tr>
				<td>{{ event.name }}</td>
				<td>{{ event.date }}</td>
				<td>{{ event.description }}</td>
			</tr>
			{% endfor %}
		</table>

		<form action="/api/organizer/newEvent" method="post">
	        <table>
	            {{ newEvent.as_table }}
	        </table>
	        <!-- {% csrf_token %} -->
        	<input type="submit" value="Submit">
    	</form>

    	<table class="table" id="ajaxTable">
    		<tr>
				<th>Name</th>
				<th>Date</th>
				<th>Description</th>
			</tr>
    	</table>
	</body>
</html>